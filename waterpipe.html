<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="content-language" content="zh-CN">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="keywords" content="管道绝热在线计算">
<meta name="description" content="工程在线计算小程序，石油化工、电力等工业管道设计计算，简单的工艺设备计算，工艺流程计算等。">
<title>管道绝热在线计算，计算依据GB 50264</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="wrap">
		<a href="./">列表</a>
		<h1>管道绝热</h1>
		<form>
			<p><label>流量</label><input id="f" type="number" value="140000"> kg/h</p>
			<p><label>温度</label><input id="tA" type="number" value="320"> C</p>
			<p><label>压力</label><input id="pA" type="number" value="1.6"> MPa(A)</p>
			<p><label>外径</label><input id="d0" type="number" value="762"> mm</p>
			<p><label>壁厚</label><input id="thk" type="number" value="12.7"> mm</p>
			<p><label>长度</label><input id="l" type="number" value="100"> m</p>
			<p><label>绝对粗糙度</label><input id="rough" type="number" value="0.2"> mm</p>
			<p><label>管托数量</label><input id="bnum" type="number" value="1"> 个</p>
			<p><label>管托截面周长</label><input id="bp" type="number" value="1"> mm</p>
			<p><label>管托截面面积</label><input id="ba" type="number" value="1"> mm2</p>
			<p><label>管托高度</label><input id="bh" type="number" value="1"> mm</p>
			<p><label>绝热厚度</label><input id="ithk" type="number" value="200"> mm</p>
			<p><label>绝热材料导热系数</label>
			λ=<input id="a0" class="short" type="number" value="0.043">
			 +<input id="a1" class="short" type="number" value="0.00015">×(Tm-<input id="a2" class="short" type="number" value="70">)
			 +<input id="a3" class="short" type="number" value="0">×(Tm-<input id="a4" class="short" type="number" value="0">)<sup>2</sup>
			 +<input id="a5" class="short" type="number" value="0">×(Tm-<input id="a6" class="short" type="number" value="0">)<sup>3</sup>
			</p>
			<p><label>黑度</label><input id="epsilon" type="number" value="0.3"></p>
			<p><label>环境温度</label><input id="ta" type="number" value="14.7"> C</p>
			<p><label>风速</label><input id="w" type="number" value="2.9"> m/s</p>
		</form>
		<p><button onclick="run()">计算</button></p>
		<h3>结果</h3>
		<textarea id="res"></textarea>
		<p>计算依据：GB 50264</p>
	</div>
	<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "https://hm.baidu.com/hm.js?c601c0ade979f55c4e2d64e5eb0eac59";
		  var s = document.getElementsByTagName("script")[0]; 
		  s.parentNode.insertBefore(hm, s);
		})();
	</script>
	<script src="xsteam.js"></script>
	<script src="pipe.js"></script>
</body>
<script>
	function run() {
		let f = parseFloat(document.getElementById("f").value) / 3600;
		let tA = parseFloat(document.getElementById("tA").value);
		let pA = parseFloat(document.getElementById("pA").value);
		let d0 = parseFloat(document.getElementById("d0").value) / 1000;
		let thk = parseFloat(document.getElementById("thk").value) / 1000;
		let l = parseFloat(document.getElementById("l").value);
		let rough = parseFloat(document.getElementById("rough").value) / 1000;
		let bnum = parseFloat(document.getElementById("bnum").value);
		let bp = parseFloat(document.getElementById("bp").value) / 1000;
		let ba = parseFloat(document.getElementById("ba").value) / 1e6;
		let bh = parseFloat(document.getElementById("bh").value) / 1000;
		let ithk = parseFloat(document.getElementById("ithk").value) / 1000;
		
		let lambdaArgs = []
		for(let i = 0; i <7; ++i) {
			lambdaArgs[i] = parseFloat(document.getElementById("a"+i.toString()).value)
		}
		
		let epsilon = parseFloat(document.getElementById("epsilon").value);
		let ta = parseFloat(document.getElementById("ta").value);
		let w = parseFloat(document.getElementById("w").value);
		console.log("d0:"+d0)
		let hA = h_pT(pA, tA + 273.15);
		console.log("hA:"+hA)
		let rhoA = rho_pT(pA, tA + 273.15);
		let veA = getVelocity(f / rhoA, d0 - 2 * thk);
		console.log("veA:"+veA)
		let re = reynolds(d0 - 2 * thk, veA, rhoA, my_pT(pA, tA + 273.15));
		let resis = resistace(re, d0 - 2 * thk, rough);
		let kt = (resis, l, d0 - 2 * thk);
		let pdA = pd(veA, 1 / rhoA);
		console.log("pdA:"+pdA)
		let pB = p2(pdA, pA*1e6, kt) / 1e6;
		console.log("pB:"+pB)
		let lambda = getLambda(tA, ta, lambdaArgs);
		console.log("lambda:"+lambda)
		let ts = getTs(tA, ta, w, d0, d0 + 2 * ithk, lambda, epsilon);
		console.log("ts:"+ts)
		let alpha = getAlpha(ts, ta, w, d0 + 2 * ithk, epsilon);
		console.log("alpha:"+alpha)
		let t0 = getT0(f, d0, d0 + 2 * ithk, l, tA, pA, pB, ta, lambda, alpha);
		console.log("t0:"+t0)
		let Q = getQ(t0, ta, d0, d0 + 2 * ithk, lambda, alpha);
		let q = getq(Q, d0 + 2 * ithk);
		let hB = getHB(hA, f, q * l);
		let tB = T_ph(pB, hB);
		
		
		let strResult = "绝热材料传热系数：" + lambda.toFixed(3)          + "  W/(m.K)"
					 +"\n外表面温度：      " + ts.toFixed(2)              + "  C"
					 +"\n散热量：          " + Q.toFixed(2)               + "  W/m2"
					 +"\n散热量：          " + (3.14 * d0 + 2 * ithk * Q).toFixed(2) + "  W/m"
		document.getElementById("res").value = strResult
	}
	
	//计算绝热层传热系数
	function getLambda2(t0, ta) {
		let lambdaArgs = []
		for(let i = 0; i <7; ++i) {
			lambdaArgs[i] = parseFloat(document.getElementById("a"+i.toString()).value)
		}

		let lambda = lambdaArgs[0] + lambdaArgs[1] * (0.5 * (t0 + ta) - lambdaArgs[2]) + lambdaArgs[3] * Math.pow(0.5 * (t0 + ta) - lambdaArgs[4], 2) + lambdaArgs[5] * Math.pow(0.5 * (t0 + ta) - lambdaArgs[6], 3)

		return lambda
	}
	
	//计算散热量 [W/m2]
	function getQ2(t0, ta, d0, d1, lambda, alpha) {
		return (t0 - ta) / (d1 / (2 * lambda) * Math.log(d1 / d0) + 1 / alpha)
	}

	
	//计算表面传热系数
	function getAlpha2(ts, ta, w, d1, epsilon) {
		let alpha_r = 5.669 * epsilon / (ts - ta) * (Math.pow((273 + ts) / 100, 4) - Math.pow((273 + ta) / 100, 4))
		let alpha_c
		if (w == 0) {
			alpha_c = 26.4 / Math.pow(297 + 0.5 * (ts + ta), 0.5) * Math.pow((ts - ta) / d1, 0.25)
		}
		else {
			if (w * d1 < 0.8) {
				alpha_c = 0.08 / d1 + 4.2 * Math.pow(w, 0.618) / Math.pow(d1, 0.382)
			}
			else {
				alpha_c = 4.53 * Math.pow(w, 0.805) / Math.pow(d1, 0.195)
			}
		}
		
		return alpha_r + alpha_c
	}
	
	//迭代计算外表面温度[C]
	function getTsS(t0, ta, w, d0, d1, lambda, epsilon) {
		let ts_pre = ta + 0.1 * (t0 - ta), ts
		do
		{
			ts = ts_pre
			let alpha = getAlpha(ts, ta, w, d1, epsilon)
			let Q = getQ(t0, ta, d0, d1, lambda, alpha)
			ts_pre = getTs(Q, ta, alpha)
		}
		while(Math.abs(ts - ts_pre) > 1e-3)
		
		return ts
	}
</script>
</html>